<div class="container">
  <div *ngIf="evento">
    <h4>Detalles del evento</h4>
    <div id="detalles">
      <div>Nombre: {{ evento.nombre }}</div>
      <div>Lugar: {{ evento.lugar }}</div>
      <div>Fecha: {{ evento.fecha | date: "longDate":"es-EA" }}</div>
      <div>Trabajadores necesarios: {{ evento.capacidad }} trabajadores</div>
      <p>Listado de trabajadores:</p>
    </div>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Nombre</th>
          <th scope="col">Cargo</th>
          <th scope="col">Horas</th>
        </tr>
      </thead>
      <tbody>
        <tr [routerLink]="['/userdetails', trabajo.usuario.id]" *ngFor="let trabajo of trabajos">
          <th scope="row">{{trabajo.usuario.id}}</th>
          <td>{{trabajo.usuario.nombre}}</td>
          <td>{{trabajo.rol.nombre}}</td>
          <td>{{trabajo.horas}}</td>
        </tr>
      </tbody>
    </table>
    <button type="button" class="btn btn-info" [disabled]="trabajos?.length >= evento.capacidad"(click)="apuntarse()">
      ¡Quiero ir!
    </button>

    <div id="formTrabajo" hidden>

      <div id="controls">

        <div class="form-group" id="divPuesto">
          
          <label for="selectRol">Puesto:</label>

          <select name="selectRol" id="selectRol" class="form-control" [(ngModel)]="seleccionado">
            <option value="" selected>Seleccione un rol</option>
            <option *ngFor="let rol of roles" value="{{rol.id}}">{{rol.nombre}} - {{rol.sueldo}}€/h</option>
          </select>
        </div>
        <div class="form-group" id="divHoras">
          <label for="horas">Horas:</label>
          <div id="inputHoras">
            <input
              class="form-control"
              placeholder="0"
              min="1"
              type="number"
              name="horas"
              id="horas"
              [(ngModel)] = "horas"
            />
          </div>
        </div>
      </div>
      <button
        type="button"
        class="btn btn-info"
        (click)="solicitud()"
        id="btnSolicitud"
      >
        Enviar solicitud
      </button>
    </div>
  </div>
</div>
